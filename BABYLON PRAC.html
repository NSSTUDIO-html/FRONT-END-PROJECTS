<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Babylon.js Custom Mesh + Extrude</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<script src="https://cdn.babylonjs.com/babylon.js"></script>
<style>
  html, body { margin:0; padding:0; width:100%; height:100%; background:#111; }
  #renderCanvas { width:100%; height:100%; display:block; touch-action:none; }
</style>
</head>
<body>
<canvas id="renderCanvas"></canvas>
<script>
const canvas = document.getElementById("renderCanvas");
const engine = new BABYLON.Engine(canvas, true);

const createScene = () => {
    const scene = new BABYLON.Scene(engine);
    scene.clearColor = new BABYLON.Color4(0.05,0.05,0.08,1);

    // Camera
    const camera = new BABYLON.ArcRotateCamera("camera", Math.PI/2, Math.PI/3, 10, BABYLON.Vector3.Zero(), scene);
    camera.attachControl(canvas, true);

    // Light
    const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0,1,0), scene);
    light.intensity = 1;

    // Material
    const mat = new BABYLON.StandardMaterial("mat", scene);
    mat.diffuseColor = new BABYLON.Color3(0.9,0.85,0.8);

    // -------------------------
    // Custom Mesh Example (cube)
    // -------------------------
    const customMesh = new BABYLON.Mesh("customMesh", scene);
    const positions = [
        -1,-1,-1,  1,-1,-1,  1,1,-1,  -1,1,-1,
        -1,-1,1,   1,-1,1,   1,1,1,   -1,1,1
    ];
    const indices = [
        0,1,2, 0,2,3,
        4,6,5, 4,7,6,
        4,5,1, 4,1,0,
        7,3,2, 7,2,6,
        5,6,2, 5,2,1,
        4,0,3, 4,3,7
    ];
    const vertexData = new BABYLON.VertexData();
    vertexData.positions = positions;
    vertexData.indices = indices;
    BABYLON.VertexData.ComputeNormals(positions, indices, vertexData.normals = []);
    vertexData.applyToMesh(customMesh, true);
    customMesh.material = mat;
    customMesh.position = new BABYLON.Vector3(-3,0,0);

    // -------------------------
    // Extruded Shape Example (nose/jaw profile)
    // -------------------------
    const shape = [
        new BABYLON.Vector3(0,0,0),
        new BABYLON.Vector3(0.2,0.4,0),
        new BABYLON.Vector3(0.1,0.8,0),
        new BABYLON.Vector3(0,1,0)
    ];

    const path = [];
    const steps = 18;
    for(let i=0;i<=steps;i++){
        path.push(new BABYLON.Vector3(i*0.1,0,0)); // extrusion along X
    }

    const extrudeMesh = BABYLON.MeshBuilder.ExtrudeShape("extrudeMesh", {
        shape: shape,
        path: path,
        cap: BABYLON.Mesh.CAP_ALL
    }, scene);

    extrudeMesh.material = mat;
    extrudeMesh.position = new BABYLON.Vector3(2,0,0);

    return scene;
};

const scene = createScene();
engine.runRenderLoop(()=>scene.render());
window.addEventListener("resize", ()=>engine.resize());
</script>
</body>
</html>